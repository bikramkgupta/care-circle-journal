(()=>{var e={};e.id=547,e.ids=[547],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},38569:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(62848);let a=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},66108:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(43712),a=s(14887),l=s(16841),n=s.n(l),i=s(50873),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["care-profiles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57574)),"/Users/bikram/Documents/Build/skills-test/care-circle-journal/care-circle-journal-main/apps/frontend/src/app/care-profiles/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11127)),"/Users/bikram/Documents/Build/skills-test/care-circle-journal/care-circle-journal-main/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,50455,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/bikram/Documents/Build/skills-test/care-circle-journal/care-circle-journal-main/apps/frontend/src/app/care-profiles/page.tsx"],u="/care-profiles/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/care-profiles/page",pathname:"/care-profiles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33782:(e,t,s)=>{Promise.resolve().then(s.bind(s,98190))},98190:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>CareProfilesPage});var r=s(15329),a=s(97229),l=s(56402),n=s.n(l),i=s(10983),o=s(86125),c=s(11410),d=s(38569),u=s(62848);let x=(0,u.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var m=s(22619);function CareProfilesPage(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)([]),[l,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)(!1),[b,g]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[y,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}loadProfiles()},[e]);let loadProfiles=async()=>{try{let e=await (0,o.W)("/care-profiles");s(e)}catch(e){console.error("Failed to load profiles:",e)}finally{u(!1)}},handleCreate=async e=>{e.preventDefault(),v(!0);try{await (0,o.W)("/care-profiles",{method:"POST",body:JSON.stringify({name:b,notes:f})}),g(""),j(""),h(!1),loadProfiles()}catch(e){console.error("Failed to create profile:",e)}finally{v(!1)}};return l?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-pulse text-slate-500",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[r.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"CareCircle Journal"}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/login")},className:"flex items-center gap-2 text-slate-500 hover:text-slate-700",children:[r.jsx(c.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Sign out"})]})]})}),(0,r.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Care Profiles"}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Select or create a profile to start logging"})]}),(0,r.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition shadow-lg shadow-blue-500/25",children:[r.jsx(d.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"New Profile"})]})]}),p&&(0,r.jsxs)("div",{className:"mb-8 bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Create New Profile"}),(0,r.jsxs)("form",{onSubmit:handleCreate,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),r.jsx("input",{type:"text",value:b,onChange:e=>g(e.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900",placeholder:"e.g., Alex"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Notes (optional)"}),r.jsx("textarea",{value:f,onChange:e=>j(e.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-900",placeholder:"Any helpful context..."})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition",children:y?"Creating...":"Create Profile"}),r.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition",children:"Cancel"})]})]})]}),0===t.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx(x,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No profiles yet"}),r.jsx("p",{className:"text-slate-500 mb-6",children:"Create your first care profile to get started"}),(0,r.jsxs)("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition",children:[r.jsx(d.Z,{className:"w-5 h-5"}),"Create Profile"]})]}):r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,r.jsxs)(n(),{href:`/care-profiles/${e.id}/timeline`,className:"bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg hover:border-blue-200 transition group",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xl font-bold text-blue-600",children:e.name.charAt(0).toUpperCase()})}),(0,r.jsxs)("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[r.jsx(m.Z,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleDateString()]})]}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mt-4 group-hover:text-blue-600 transition",children:e.name}),e.notes&&r.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:e.notes}),r.jsx("div",{className:"mt-4 text-sm text-blue-600 font-medium",children:"View timeline â†’"})]},e.id))})]})]})}},86125:(e,t,s)=>{"use strict";s.d(t,{W:()=>request});let r=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";async function request(e,t={}){let s={"Content-Type":"application/json",...t.headers},a=await fetch(`${r}${e}`,{...t,headers:s});if(!a.ok){let e=await a.json().catch(()=>({error:"Unknown error"}));throw Error(e.error||"Something went wrong")}return a.json()}},57574:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var r=s(9104);let a=(0,r.createProxy)(String.raw`/Users/bikram/Documents/Build/skills-test/care-circle-journal/care-circle-journal-main/apps/frontend/src/app/care-profiles/page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,o=i}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[946,101,253,786,326],()=>__webpack_exec__(66108));module.exports=s})();